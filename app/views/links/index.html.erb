<% @hash.map do |date, links| %>

  <div class="well"> <%= date %>
    <% links.each do |link| %>
      <div class="link row clearfix">
        <h2>
          <%= link_to link.title, link,class: "link_color"  %><br>
          <small class="author">Submitted <%= time_ago_in_words(link.created_at) %> by <%= link.user.name %></small>
        </h2>

        <% if current_user %>
          <div class="btn-group">
            <%= link_to like_link_path(link), method: :put, class: "btn btn-default btn-sm" do %>
              <span class="fa-stack fa-1x">
                <i class="fa fa-heart fa-stack-1x"></i>
              </span>
              Like
              <%= link.get_upvotes.size %>
            <% end %>
            <%= link_to dislike_link_path(link), method: :put, class: "btn btn-default btn-sm" do %>
              <span class="fa-stack fa-1x">
                <i class="fa fa-heart fa-stack-1x"></i>
                <i class="fa fa-bolt fa-stack-1x fa-inverse"></i>
              </span>
              Dislike
              <%= link.get_downvotes.size %>        
            <% end %>
          </div>
          <% else %>
            <div class="btn-group">
              <%= link_to like_link_path(link), method: :put, disabled: true, class: "btn btn-default btn-sm" do %>
                <span class="fa-stack fa-1x">
                  <i class="fa fa-heart fa-stack-1x"></i>
                </span>
                Like
                <%= link.get_upvotes.size %>
              <% end %>
              <%= link_to dislike_link_path(link), method: :put, disabled: true, class: "btn btn-default btn-sm" do %>
                <span class="fa-stack fa-1x">
                  <i class="fa fa-heart fa-stack-1x"></i>
                  <i class="fa fa-bolt fa-stack-1x fa-inverse"></i>
                </span>
                Dislike
                <%= link.get_downvotes.size %>        
              <% end %>
            </div>
          <% end %>
      </div>
    <% end %>
  </div>
<% end %>